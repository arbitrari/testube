<mat-toolbar [class.search-active]="searchBarOpen" [class.url-active]="urlBarOpen">
    <button mat-stroked-button class="custom-url-button" *ngIf="!urlBarOpen" (click)="urlBarOpen = true">
        <mat-icon fontIcon="link"/>
        Custom URL
    </button>
    <mat-form-field cdkFocusInitial #urlBar class="url-bar" appearance="outline" *ngIf="urlBarOpen" (keydown.enter)="navigate()">
        <input matInput autofocus [(ngModel)]="url" placeholder="Enter a URL">
        <mat-icon matSuffix (click)="navigate()">login</mat-icon>
        <mat-icon matSuffix (click)="urlBarOpen = false">close</mat-icon>
    </mat-form-field>
    <app-logo></app-logo>
    <div class="search-container" [class.url-open]="urlBarOpen" *ngIf="!searchBarOpen">
        <button mat-stroked-button class="search-button" (click)="searchBarOpen = true">
            <mat-icon fontIcon="search"/>
            Search
        </button>
    </div>
    <div class="search-bar-container" [class.url-open]="urlBarOpen" *ngIf="searchBarOpen">
        <mat-form-field class="search-bar" appearance="outline">
            <input matInput [(ngModel)]="searchQuery" (ngModelChange)="onSearchChange()" placeholder="Search services..." autofocus>
            <mat-icon matSuffix (click)="clearSearch()">clear</mat-icon>
        </mat-form-field>
        <div class="include-hidden-checkbox">
            <mat-checkbox [(ngModel)]="includeHidden" (ngModelChange)="onSearchChange()"></mat-checkbox>
            <div class="checkbox-label">
                <span>Include</span>
                <span>hidden</span>
            </div>
        </div>
    </div>
    <button mat-stroked-button class="settings-button" (click)="openSettingsDialog()">
        <mat-icon fontIcon="tune"></mat-icon>
        @if (sourceManager.hiddenData().size > 0) {
          <div class="hidden-container">
            {{sourceManager.hiddenData().size}} Hidden
          </div>
        }
    </button>
</mat-toolbar>

<!-- <div *ngIf="showTip" class="settings-tip" (click)="hideTip()">
    <b style="margin-right: 8px">NEW</b> Source hiding is here
</div> -->
